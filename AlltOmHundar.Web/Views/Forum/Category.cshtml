@model IEnumerable<AlltOmHundar.Core.Models.Topic>

@{
    ViewData["Title"] = "Kategori";
    var cat = ViewBag.Category;
}

<h2>@cat?.Name</h2>
@if (!string.IsNullOrWhiteSpace(cat?.Description))
{
    <p class="text-muted">@cat.Description</p>
}

<div class="mt-3">
    @foreach (var t in Model ?? Enumerable.Empty<AlltOmHundar.Core.Models.Topic>())
    {
        <div class="card mb-3">
            <div class="card-body d-flex justify-content-between align-items-center">
                <div>
                    <h5 class="card-title mb-1">@t.Title</h5>
                    @if (!string.IsNullOrWhiteSpace(t.Description))
                    {
                        <p class="text-muted mb-0">@t.Description</p>
                    }
                </div>
                <div class="d-flex gap-2">
                    <a class="btn btn-outline-secondary"
                       asp-controller="Forum" asp-action="Topic" asp-route-id="@t.Id">
                        Visa tråd
                    </a>
                    <a class="btn btn-success"
                       asp-controller="Post" asp-action="CreatePost" asp-route-topicId="@t.Id">
                        Nytt inlägg (med bild)
                    </a>
                </div>
            </div>
        </div>
    }
</div>
